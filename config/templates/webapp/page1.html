<!DOCTYPE html>
<html lang="kr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="jB_YX0577xzL_weappsczuTVHHH0_GrIWOQv9whT1d8" />

    <title>TrendScope</title>

    <style>
    *{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    }
    body{
        text-align: center;
        margin: 1% 10% 3% 10%;
    }
    h1, h2, h3, h4, h5, h6{
    }
    </style>

    <link rel="stylesheet" href="static/css/header.css" />
    <link rel="stylesheet" href="static/css/newsBox.css" />
    <link rel="stylesheet" href="static/css/sidebar.css" />

</head>
<body>
    <header>
        <!--ÌôàÌéòÏù¥ÏßÄ ÏÉÅÏúÑ Ï†úÎ™©-->
        <h1>WEB PROGRAMMING</h1>
        <hr class = "custom-hr">

        <!--Ìä∏Î†åÎìú Ïä§ÏΩîÌîÑ Î°úÍ≥† Ïù¥ÎØ∏ÏßÄ-->
        <img src="/static/image/trandscopenews_LOGO.png" onclick="redirectToMainpage()">

        <hr class="custom-hr2">
        <hr class="custom-hr3">

        <div class="icons">
            <div class="menu-icon" onclick="openSidebar()">‚ò∞</div>  <!--ÏÇ¨Ïù¥ÎìúÎ∞î-->
                <h2>{{ current_date|date:"l, F d" }}</h2>  <!--ÏöîÏùº-->
            <div class="user-icon" onclick="redirectToUserPage()">üë§</div> <!--user-->
        </div>
        <hr class="custom-hr3">
        <hr class="custom-hr2">
    </header>
    <!-- ÏÇ¨Ïù¥ÎìúÎ∞î-->
    <aside id="side-bar" class="side-bar">
        <aside class="side-bar-inner">
            <span class="close-btn" onclick="closeSidebar()">√ó</span>
            <img src="static/image/trendscope_logo.png" onclick="redirectToMainpage()" style="margin: 6vh 0 1.5vh 0; width:80%; cursor: pointer">
            <hr class="custom-hr2"> <!-- Íµ¨Î∂ÑÏÑ†-->
            <hr class="custom-hr3">
            <img src="/static/image/newsthema.png" style="margin: 1.5vh 0; width: 40%" >
            <hr class="custom-hr2"> <!-- Íµ¨Î∂ÑÏÑ†-->
            <hr class="custom-hr3">
            <div class="maker-img">
                <img src="/static/image/ex.png">
                <div class="categories">
                <a href="/webapp/page2/0/" title="Ï†ïÏπò">
                    <img src="/static/image/menu.png" >
                    <h3>Ï†ïÏπò</h3>
                </a>
                <a href="/webapp/page2/1/" title="Í≤ΩÏ†ú">
                    <img src="/static/image/menu.png">
                    <h3>Í≤ΩÏ†ú</h3>
                </a>
                <a href="/webapp/page2/2/"title="ÏÇ¨Ìöå">
                    <img src="/static/image/menu.png">
                    <h3>ÏÇ¨Ìöå</h3>
                </a>
                <a href="/webapp/page2/3/"title="ÏÉùÌôú/Î¨∏Ìôî">
                    <img src="/static/image/menu.png">
                    <h3>ÏÉùÌôú/Î¨∏Ìôî</h3>
                </a>
                <a href="/webapp/page2/4/"title="ÏÑúÍ≥Ñ">
                    <img src="/static/image/menu.png">
                    <h3>ÏÑ∏Í≥Ñ</h3>
                </a>
                <a href="/webapp/page2/5/"title="IT/Í≥ºÌïô">
                    <img src="/static/image/menu.png">
                    <h3>IT/Í≥ºÌïô</h3>
                </a>
                <a>
                    <img src="/static/image/menu.png"title="Ï†ïÏ†ï Í∏∞ÏÇ¨">
                    <h3>Ï†ïÏ†ï Í∏∞ÏÇ¨</h3>
                </a>
            </div>
            </div>
        </aside>
        </aside>
    </aside>


    <main>
        {% for news in news_data %}
            {% if news.ranking|divisibleby:2 %}
                <section class="news-item1" onclick="redirectToDatailpage('{{ news.ranking }}', '{{ news.keywords|escapejs }}', '{{ news.title|escapejs }}', '{{ news.text|escapejs }}', '{{ news.link|escapejs }}')">
                    <!--Ïã†Î¨∏ Ïù¥ÎØ∏ÏßÄ Ï≤òÎ¶¨ -->
                    {% if news.img_link == "0" %}
                        <img src="image/ex.png">
                    {% else %}
                        <img src="{{ news.img_link }}" >
                    {% endif %}

                    <!--ÌôîÎ©¥Ïóê Î≥¥Ïùº Ïã†Î¨∏ Ï†ïÎ≥¥-->
                    <div class= "styled-box">
                        <h1>{{ news.ranking }}. {{ news.keywords }}</h1> <!-- Ïó¨Í∏∞ÏÑú .Í≥º ÏÇ¨Ïù¥Ïóê Í≥µÎ∞±ÏùÑ Ï∂îÍ∞Ä -->
                        <p class="news-title">{{ news.title }}</p>
                        <hr class="custom-hr4">
                        <p>{{ news.text|truncatechars:150 }}</p>
                    </div>
                    {% if user.is_authenticated %}
                            <button class="star-btn" data-keyword="{{ news.keywords|escapejs }}"
                                    onclick="toggleStar(this, '{{ news.keywords|escapejs }}', '{{ news.title|escapejs }}', '{{ news.text|escapejs }}', '{{ news.link|escapejs }}')">
                                ‚òÖ
                            </button>
                        {% else %}
                            <p style="color: #dc5559">Î°úÍ∑∏Ïù∏ ÌõÑ ÏÇ¨Ïö© Í∞ÄÎä•Ìï©ÎãàÎã§.</p>
                        {% endif %}
                </section>
            {% else %}
                <section class="news-item2" onclick="redirectToDatailpage('{{ news.ranking }}', '{{ news.keywords|escapejs }}', '{{ news.title|escapejs }}', '{{ news.text|escapejs }}', '{{ news.link|escapejs }}')">
                    <!--ÌôîÎ©¥Ïóê Î≥¥Ïùº Ïã†Î¨∏ Ï†ïÎ≥¥-->
                    <div class= "styled-box">
                        <h1>{{ news.ranking }}. {{ news.keywords }}</h1> <!-- Ïó¨Í∏∞ÏÑú .Í≥º ÏÇ¨Ïù¥Ïóê Í≥µÎ∞±ÏùÑ Ï∂îÍ∞Ä -->
                        <p class="news-title">{{ news.title }}</p>
                        <hr class="custom-hr4">
                        <p>{{ news.text|truncatechars:150 }}</p>
                    </div>
                    <!--Ïã†Î¨∏ Ïù¥ÎØ∏ÏßÄ Ï≤òÎ¶¨ -->
                    {% if news.img_link == "0" %}
                        <img src="image/ex.png">
                    {% else %}
                        <img src="{{ news.img_link }}" >
                    {% endif %}

                    {% if user.is_authenticated %}
                    <button class="star-btn2" data-keyword="{{ news.keywords|escapejs }}"
                            onclick="toggleStar(this, '{{ news.keywords|escapejs }}', '{{ news.title|escapejs }}', '{{ news.text|escapejs }}', '{{ news.link|escapejs }}')">
                        ‚òÖ
                    </button>
                    {% else %}
                        <p style="color: #dc5559">Î°úÍ∑∏Ïù∏ ÌõÑ ÏÇ¨Ïö© Í∞ÄÎä•Ìï©ÎãàÎã§.</p>
                    {% endif %}
                </section>

            {% endif %}
        {% endfor %}




    </main>
    <form id="favorite-keyword-form" method="post" action="{% url 'add_favorite_keyword' %}" style="display:none;">
        {% csrf_token %}
        <input type="hidden" name="keyword" id="favorite-keyword">
        <input type="hidden" name="title" id="favorite-title">
        <input type="hidden" name="content" id="favorite-content">
        <input type="hidden" name="url" id="favorite-url">
    </form>
    <form id="remove-favorite-keyword-form" method="post" action="{% url 'remove_favorite_keyword' %}" style="display:none;">
        {% csrf_token %}
        <input type="hidden" name="keyword" id="remove-favorite-keyword">
    </form>

    <script type="text/javascript" src="static/js/navigation.js"></script>
    <script type="text/javascript" src="static/js/user.js"></script>
    <script src="static/js/sidebar.js"></script>
    <script type="text/javascript" src="static/js/str-btn.js"></script>
</body>
</html>
